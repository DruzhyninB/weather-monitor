(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{357:function(e,t,a){e.exports=a(660)},654:function(e,t,a){},655:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"forecast",function(){return h});var r={};a.r(r),a.d(r,"getForecast",function(){return E});var i={};a.r(i),a.d(i,"SET_NAME",function(){return y}),a.d(i,"SET_DATA",function(){return b}),a.d(i,"SET_LOADING",function(){return O}),a.d(i,"SET_ERROR",function(){return w}),a.d(i,"SET_FILTERING",function(){return j}),a.d(i,"loadCity",function(){return D}),a.d(i,"setDisplayName",function(){return k}),a.d(i,"setData",function(){return N}),a.d(i,"setLoadingData",function(){return C}),a.d(i,"setFilteringData",function(){return T});var c=a(9),o=a.n(c),l=a(95),s=a.n(l),u=a(89),d=a(164),m=a.n(d),f=(a(576),a(346)),p=a.n(f),h="".concat("https://api.openweathermap.org/data/2.5","/forecast"),v={openWeatherKey:"a6406e2d8df17080c159e36896fa1e1a"};function E(e){return p.a.get(n.forecast,{params:{id:e,appid:v.openWeatherKey,units:"metric"}})}var g,y="SET_NAME",b="SET_DATA",O="SET_LOADING",w="SET_ERROR",j="SET_FILTERING",D=function(e){return function(t,a){t(C(!0)),r.getForecast(e).then(function(e){t(N(e.data.list.map(function(e){return{date:new Date(e.dt_txt),value:e.main.temp}}))),t(k(e.data.city.name)),t(C(!1))}).catch(function(e){return t(R(e))})}},k=function(e){return function(t,a){t({type:y,payload:e})}},N=function(e){return function(t,a){t({type:b,payload:e})}},C=function(e){return function(t,a){t({type:O,payload:e})}},T=function(e){return function(t,a){t({type:j,payload:e})}},R=function(e){return function(t,a){t(C(!1)),d.toastr.error("Error!",e.message)}},S=a(107),F=a(183),_={name:"",data:[],loading:!1,filtering:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(F.a)({},e,{name:t.payload});case b:return Object(F.a)({},e,{data:t.payload});case O:return Object(F.a)({},e,{loading:t.payload});case j:return Object(F.a)({},e,{filtering:t.payload});default:return e}},I=Object(S.c)({form:A,toastr:d.reducer}),L=a(347),M=Object(S.d)(I,Object(S.a)(L.a)),W=a(118),x=a(119),G=a(122),H=a(120),K=a(123),U=a(103),J=a.n(U),X=a(222),Y=a(277),q=(a(653),a(654),function(e){return e.isloading?o.a.createElement("div",{className:"wm-loader"},o.a.createElement("div",{className:"lds-css"},o.a.createElement("div",{className:"lds-spinner"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))):null}),B=(a(655),window.cityList),P=function(e){function t(e){var a;return Object(W.a)(this,t),(a=Object(G.a)(this,Object(H.a)(t).call(this,e))).onClickCity=function(e){a.props.loading||a.props.loadCity(e.id)},a.handleChange=function(e){e.persist(),a.props.filtering||(a.setState(Object(X.a)({},e.target.name,e.target.value)),g&&clearTimeout(g),g=setTimeout(function(){a.props.setFilteringData(!0),a.state.filterWorker.postMessage({list:B,filter:e.target.value}),clearTimeout(g)},500))},a.workerResponse=function(e){a.setState({listData:e.data.result}),a.props.setFilteringData(!1)},a.renderRow=function(e){var t=e.key,n=e.index,r=e.style,i=a.state.listData[n];return o.a.createElement("div",{className:"wm-list-item",title:"".concat(i.name," - ").concat(i.country),onClick:function(){return a.onClickCity(i)},key:t,style:r},"".concat(i.name," - ").concat(i.country))},a.state={name:"",listData:[]},a}return Object(K.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({listData:B,filterWorker:new Worker("webWorker.js")},function(){e.state.filterWorker.onmessage=e.workerResponse})}},{key:"render",value:function(){var e=this,t=this.state.listData,a=this.props.filtering;return o.a.createElement("div",{className:"wm-form"},o.a.createElement("div",{className:"wm-form-search"},o.a.createElement("input",{type:"text",name:"name",placeholder:"Enter a city",value:this.state.name,onChange:this.handleChange})),o.a.createElement("div",{className:J()("wm-form-list",{loading:a})},o.a.createElement(Y.a,null,function(a){var n=a.height,r=a.width;return o.a.createElement(Y.b,{width:r,height:n,rowCount:t.length,rowHeight:30,rowRenderer:e.renderRow})}),o.a.createElement(q,{isloading:a})))}}]),t}(o.a.Component);var z=Object(u.connect)(function(e){var t=e.form;return{loading:t.loading,filtering:t.filtering}},function(e){return Object(S.b)({loadCity:i.loadCity,setDisplayName:i.setDisplayName,setData:i.setData,setLoadingData:i.setLoadingData,setFilteringData:i.setFilteringData},e)})(P),Q=a(355),V=a(278),Z=a(144),$=a(354),ee=a.n($);a(657);V.b(Q.a);var te=function(e){function t(){return Object(W.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(x.a)(t,[{key:"componentDidUpdate",value:function(e){ee.a.isEqual(e.data,this.props.data)||(this.chart.data=this.props.data)}},{key:"componentDidMount",value:function(){this.generate()}},{key:"generate",value:function(){var e=V.a("amChart",Z.d);e.paddingLeft=0,e.paddingLeft=0;var t=e.xAxes.push(new Z.a);t.renderer.minGridDistance=120,t.baseInterval={timeUnit:"hour",count:3},t.dateFormats.setKey("hour","MMMM dd HH:mm");var a=e.yAxes.push(new Z.c);a.tooltip.disabled=!0,a.renderer.minWidth=35;var n=e.series.push(new Z.b);n.dataFields.dateX="date",n.dataFields.valueY="value",n.tooltipText="{valueY.value} \xb0C",e.cursor=new Z.f;var r=new Z.e;r.series.push(n),e.scrollbarX=r,e.data=this.props.data,this.chart=e}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return o.a.createElement("div",{className:"wm-graph"},o.a.createElement("div",{className:J()("wm-graph-wrapper")},o.a.createElement("div",{id:"amChart"})))}}]),t}(o.a.Component);var ae=Object(u.connect)(function(e){return{data:e.form.data}})(te),ne=(a(658),function(e){function t(){return Object(W.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.name;return o.a.createElement("div",{className:"wm-header"},o.a.createElement("p",null,e))}}]),t}(o.a.Component));var re=Object(u.connect)(function(e){return{name:e.form.name}})(ne),ie=(a(659),function(e){function t(){return Object(W.a)(this,t),Object(G.a)(this,Object(H.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.loading;return o.a.createElement("div",{className:"wm-wrapper"},o.a.createElement("div",{className:"wm-sidebar"},o.a.createElement(z,null)),o.a.createElement("div",{className:J()("wm-content",{loading:e})},o.a.createElement(re,null),o.a.createElement(ae,null),o.a.createElement(q,{isloading:e})))}}]),t}(o.a.Component));var ce=Object(u.connect)(function(e){return{loading:e.form.loading}})(ie);s.a.render(o.a.createElement(u.Provider,{store:M},o.a.createElement(ce,null),o.a.createElement(m.a,{timeOut:4e3,newestOnTop:!1,position:"bottom-right",transitionIn:"fadeIn",transitionOut:"fadeOut",closeOnToastrClick:!0})),document.getElementById("root"))}},[[357,1,3]]]);
//# sourceMappingURL=main.7bd7be50.chunk.js.map